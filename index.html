<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>桌游记分器</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="img/icon-192.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>桌游记分器</h1>
            <div id="player-names">玩家: 我 & 她</div>
        </header>

        <nav>
            <button class="nav-btn active" data-page="games">对局</button>
            <button class="nav-btn" data-page="stats">统计</button>
            <button class="nav-btn" data-page="settings">设置</button>
        </nav>

        <main>
            <!-- 对局页面 -->
            <div id="games-page" class="page active">
                <div class="page-header">
                    <h2>对局记录</h2>
                    <button id="add-game-btn" class="primary-btn">
                        <i class="bi bi-plus"></i> 添加对局
                    </button>
                </div>
                <div id="games-list" class="games-list"></div>
            </div>

            <!-- 统计页面 -->
            <div id="stats-page" class="page">
                <h2>数据统计</h2>
                <div class="stats-section">
                    <h3>胜率统计</h3>
                    <div id="win-rate-stats" class="win-rate-stats"></div>
                </div>
                <div class="stats-section">
                    <h3>游戏分布</h3>
                    <div id="games-distribution" class="games-distribution"></div>
                </div>
            </div>

            <!-- 设置页面 -->
            <div id="settings-page" class="page">
                <h2>设置</h2>
                <div class="settings-section">
                    <h3>玩家设置</h3>
                    <div class="form-group">
                        <label for="player1-name">玩家1名称</label>
                        <input type="text" id="player1-name" placeholder="输入玩家1名称">
                    </div>
                    <div class="form-group">
                        <label for="player2-name">玩家2名称</label>
                        <input type="text" id="player2-name" placeholder="输入玩家2名称">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>数据管理</h3>
                    <div class="form-actions">
                        <button id="export-data" class="secondary-btn">导出数据</button>
                        <button id="import-data" class="secondary-btn">导入数据</button>
                        <button id="clear-data" class="danger-btn">清除数据</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 添加对局模态框 -->
    <div id="add-game-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>添加对局</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="add-game-form">
                    <div class="form-group">
                        <label for="game-select">选择游戏</label>
                        <div class="select-group">
                            <select id="game-select" required>
                                <option value="">请选择游戏</option>
                            </select>
                            <button type="button" id="show-add-game-modal-btn" class="icon-btn">
                                <i class="bi bi-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>选择获胜者</label>
                        <div class="winner-selection">
                            <button type="button" class="player-btn" data-winner="玩家">
                                <i class="bi bi-person"></i>
                                <span class="player-name">我</span>
                            </button>
                            <button type="button" class="player-btn" data-winner="对手">
                                <i class="bi bi-person"></i>
                                <span class="player-name">她</span>
                            </button>
                        </div>
                        <input type="hidden" id="winner-input" required>
                    </div>
                    <div class="form-group">
                        <label for="game-date">日期时间</label>
                        <input type="datetime-local" id="game-date" required>
                    </div>
                    <div class="form-group">
                        <label for="game-notes">备注</label>
                        <textarea id="game-notes" rows="3" placeholder="添加备注（可选）"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="secondary-btn cancel-btn">取消</button>
                        <button type="submit" class="primary-btn">保存</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 添加新游戏模态框 -->
    <div id="add-new-game-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>添加新游戏</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="add-new-game-form">
                    <div class="form-group">
                        <label for="new-game-name">游戏名称</label>
                        <input type="text" id="new-game-name" required placeholder="输入游戏名称">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="secondary-btn cancel-btn">取消</button>
                        <button type="submit" class="primary-btn">添加</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>